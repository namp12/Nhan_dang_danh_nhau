<!DOCTYPE html>
<html class="dark" lang="vi">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Mắt Thần Đại Nam - Trang Chủ</title>
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;700;800&display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap" rel="stylesheet"/>
<script>
    tailwind.config = {
        darkMode: "class",
        theme: {
            extend: {
                colors: {
                    "primary": "#2c7677",
                    "background-light": "#f9fafa",
                    "background-dark": "#17191c",
                    "surface-dark": "#26292D",
                    "text-light": "#E0E0E0",
                    "text-muted": "#9E9E9E",
                    "orange": "#FF9800",
                    "danger": "#EF4444"
                },
                fontFamily: {
                    "display": ["Manrope", "sans-serif"]
                },
                borderRadius: {
                    "DEFAULT": "0.25rem",
                    "lg": "0.5rem",
                    "xl": "0.75rem",
                    "full": "9999px"
                },
            },
        },
    }
</script>
<style>
    .material-symbols-outlined {
        font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
    }
    .sidebar-group:hover .sidebar-group-hover\:block {
        display: block;
    }
    .sidebar-group:hover .sidebar-group-hover\:w-56 {
        width: 14rem;
    }
    .sidebar-group:hover .sidebar-group-hover\:opacity-100 {
        opacity: 1;
    }
    .sidebar-group:hover .sidebar-group-hover\:pointer-events-auto {
        pointer-events: auto;
    }
</style>
</head>
<body class="font-display bg-background-light dark:bg-background-dark">
<div class="relative flex h-auto min-h-screen w-full dark group/design-root overflow-x-hidden">
<div class="layout-container flex h-full grow flex-row">
<!-- Sidebar -->
<nav class="group sidebar-group relative z-20 flex flex-col items-center bg-background-light dark:bg-surface-dark py-4 px-2 shadow-lg transition-all duration-300 w-20 sidebar-group-hover:w-56">
<a class="flex items-center gap-4 text-text-light mb-8 w-full justify-center" href="/">
<div class="size-10 text-primary flex-shrink-0">
<img src="{{ url_for('static',filename='images/logo.png') }}" alt="Logo" class="w-full h-full object-contain"/>
</div>
<span class="text-lg font-bold text-gray-800 dark:text-text-light opacity-0 pointer-events-none transition-opacity duration-200 sidebar-group-hover:opacity-100 sidebar-group-hover:pointer-events-auto whitespace-nowrap">Mắt Thần Đại Nam</span>
</a>
<div class="flex flex-col gap-2 flex-1 w-full">
<a class="flex items-center gap-4 h-12 px-4 rounded-lg bg-primary/10 text-primary w-full" href="/">
<span class="material-symbols-outlined text-inherit text-2xl">home</span>
<span class="font-semibold text-sm whitespace-nowrap opacity-0 pointer-events-none transition-opacity duration-200 sidebar-group-hover:opacity-100 sidebar-group-hover:pointer-events-auto">Trang Chủ</span>
</a>
<a class="flex items-center gap-4 h-12 px-4 rounded-lg text-gray-600 dark:text-text-muted hover:bg-gray-200 dark:hover:bg-gray-700/50 hover:text-gray-900 dark:hover:text-text-light transition-colors w-full" href="/camera">
<span class="material-symbols-outlined text-inherit text-2xl">videocam</span>
<span class="font-semibold text-sm whitespace-nowrap opacity-0 pointer-events-none transition-opacity duration-200 sidebar-group-hover:opacity-100 sidebar-group-hover:pointer-events-auto">Camera Trực Tiếp</span>
</a>
<a class="flex items-center gap-4 h-12 px-4 rounded-lg text-gray-600 dark:text-text-muted hover:bg-gray-200 dark:hover:bg-gray-700/50 hover:text-gray-900 dark:hover:text-text-light transition-colors w-full" href="#">
<span class="material-symbols-outlined text-inherit text-2xl">monitoring</span>
<span class="font-semibold text-sm whitespace-nowrap opacity-0 pointer-events-none transition-opacity duration-200 sidebar-group-hover:opacity-100 sidebar-group-hover:pointer-events-auto">Phân Tích</span>
</a>
<a class="flex items-center gap-4 h-12 px-4 rounded-lg text-gray-600 dark:text-text-muted hover:bg-gray-200 dark:hover:bg-gray-700/50 hover:text-gray-900 dark:hover:text-text-light transition-colors w-full" href="/history">
<span class="material-symbols-outlined text-inherit text-2xl">history</span>
<span class="font-semibold text-sm whitespace-nowrap opacity-0 pointer-events-none transition-opacity duration-200 sidebar-group-hover:opacity-100 sidebar-group-hover:pointer-events-auto">Lịch Sử</span>
</a>
<a class="flex items-center gap-4 h-12 px-4 rounded-lg text-gray-600 dark:text-text-muted hover:bg-gray-200 dark:hover:bg-gray-700/50 hover:text-gray-900 dark:hover:text-text-light transition-colors w-full" href="#">
<span class="material-symbols-outlined text-inherit text-2xl">folder</span>
<span class="font-semibold text-sm whitespace-nowrap opacity-0 pointer-events-none transition-opacity duration-200 sidebar-group-hover:opacity-100 sidebar-group-hover:pointer-events-auto">Kho Video</span>
</a>
</div>
<div class="flex flex-col gap-2 w-full">
<a class="flex items-center gap-4 h-12 px-4 rounded-lg text-gray-600 dark:text-text-muted hover:bg-gray-200 dark:hover:bg-gray-700/50 hover:text-gray-900 dark:hover:text-text-light transition-colors w-full" href="/config">
<span class="material-symbols-outlined text-inherit text-2xl">settings</span>
<span class="font-semibold text-sm whitespace-nowrap opacity-0 pointer-events-none transition-opacity duration-200 sidebar-group-hover:opacity-100 sidebar-group-hover:pointer-events-auto">Cấu Hình</span>
</a>
<button class="flex items-center gap-4 h-12 px-4 rounded-lg text-gray-600 dark:text-text-muted w-full">
<img alt="User avatar" class="size-8 rounded-full object-cover" src="https://ui-avatars.com/api/?name=Admin&background=2c7677&color=fff"/>
<div class="flex-col items-start text-left opacity-0 pointer-events-none transition-opacity duration-200 sidebar-group-hover:opacity-100 sidebar-group-hover:pointer-events-auto">
<p class="font-semibold text-sm text-gray-800 dark:text-text-light whitespace-nowrap">Quản Trị Viên</p>
<p class="text-xs text-gray-500 dark:text-text-muted">Admin</p>
</div>
</button>
</div>
</nav>

<!-- Main Content -->
<div class="flex-1 px-4 sm:px-8 md:px-12 py-5 overflow-hidden">
<div class="layout-content-container flex flex-col w-full h-full max-w-[1440px] flex-1">
<main class="flex flex-col lg:flex-row gap-6 flex-1">
<!-- Main View -->
<div class="flex flex-col gap-6 flex-1 lg:w-2/3">
<!-- Live Camera Feed -->
<div class="flex flex-col rounded-xl overflow-hidden bg-background-light dark:bg-surface-dark shadow-sm">
<div class="relative flex items-center justify-center bg-cover bg-center aspect-video group">
<div class="absolute inset-0 bg-black/20" data-alt="Live surveillance camera feed" style='background-image: url("https://images.unsplash.com/photo-1607827448387-a67db1383b59?w=1200"); background-size: cover; background-position: center;'></div>
<!-- Detection Box - Đánh nhau -->
<div class="absolute top-[30%] left-[65%] w-48 h-28 border-2 border-dashed border-danger rounded-lg bg-danger/10 backdrop-blur-[2px] p-2 text-white">
<div class="flex items-center gap-1.5 bg-danger/80 px-1.5 py-0.5 rounded-md text-xs w-fit">
<span class="material-symbols-outlined text-[14px]">groups</span>
<span>Đánh Nhau</span>
</div>
<p class="text-xs mt-1 font-medium">Độ chính xác: 92%</p>
</div>
<!-- Person Detection Box -->
<div class="absolute top-[50%] left-[25%] w-24 h-40 border-2 border-solid border-orange rounded-lg bg-orange/10 backdrop-blur-[2px] p-2 text-white">
<div class="flex items-center gap-1.5 bg-orange/80 px-1.5 py-0.5 rounded-md text-xs w-fit">
<span class="material-symbols-outlined text-[14px]">person</span>
<span>Người</span>
</div>
<p class="text-xs mt-1 font-medium">ID: P-4821</p>
</div>
<div class="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent pointer-events-none"></div>
<!-- LIVE Badge -->
<div class="absolute top-3 left-3 flex items-center gap-2 bg-red-600 text-white px-3 py-1 rounded-full text-xs font-medium z-10">
<span class="relative flex h-2 w-2">
<span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"></span>
<span class="relative inline-flex rounded-full h-2 w-2 bg-red-500"></span>
</span>
<span>TRỰC TIẾP</span>
</div>
<p class="absolute top-3 right-3 text-white text-sm font-medium bg-black/30 px-3 py-1 rounded-full z-10">Camera Trường Học - Sân Chính</p>
<!-- Controls -->
<div class="absolute bottom-4 left-4 right-4 flex justify-between items-center opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-10">
<div class="flex items-center gap-2">
<button class="flex items-center justify-center rounded-full size-10 bg-black/50 text-white backdrop-blur-sm hover:bg-black/70 transition-colors">
<span class="material-symbols-outlined text-inherit text-2xl">pause</span>
</button>
<button class="flex items-center justify-center rounded-full size-10 bg-black/50 text-white backdrop-blur-sm hover:bg-black/70 transition-colors">
<span class="material-symbols-outlined text-inherit text-2xl">volume_up</span>
</button>
</div>
<div class="flex items-center gap-2">
<button class="flex items-center justify-center rounded-full size-10 bg-primary/80 text-white backdrop-blur-sm hover:bg-primary/100 transition-colors">
<span class="material-symbols-outlined text-inherit text-2xl">grid_4x4</span>
</button>
<button class="flex items-center justify-center rounded-full size-10 bg-black/50 text-white backdrop-blur-sm hover:bg-black/70 transition-colors">
<span class="material-symbols-outlined text-inherit text-2xl">photo_camera</span>
</button>
<button class="flex items-center justify-center rounded-full size-10 bg-black/50 text-white backdrop-blur-sm hover:bg-black/70 transition-colors">
<span class="material-symbols-outlined text-inherit text-2xl">fullscreen</span>
</button>
</div>
</div>
</div>
<!-- Timeline -->
<div class="p-4 bg-background-light dark:bg-surface-dark/80">
<div class="w-full h-12 flex items-center gap-3">
<span class="text-sm font-medium text-gray-500 dark:text-text-muted">14:20:00</span>
<div class="flex-1 h-2 bg-gray-200 dark:bg-gray-700 rounded-full relative group cursor-pointer">
<div class="absolute h-full bg-primary rounded-l-full" style="width: 75%;"></div>
<div class="absolute h-full w-1.5 bg-danger rounded-full" style="left: 60%;" title="Phát hiện đánh nhau: 14:23:45"></div>
<div class="absolute h-full w-1 bg-orange rounded-full" style="left: 45%;" title="Phát hiện người: 14:22:15"></div>
<div class="absolute h-full w-1.5 bg-danger rounded-full" style="left: 30%;" title="Hành vi bất thường: 14:21:05"></div>
<div class="absolute top-1/2 -translate-y-1/2 h-4 w-4 bg-white dark:bg-gray-200 border-2 border-primary rounded-full" style="left: 75%;">
<div class="absolute -top-8 left-1/2 -translate-x-1/2 bg-gray-800 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap">14:23:45</div>
</div>
</div>
<span class="text-sm font-medium text-gray-500 dark:text-text-muted">14:25:00</span>
</div>
</div>
</div>

<!-- Feed Sources -->
<div class="bg-background-light dark:bg-surface-dark p-6 rounded-xl shadow-sm">
<div class="flex flex-wrap gap-4 items-center justify-between">
<h3 class="text-gray-700 dark:text-text-light font-medium text-lg">Nguồn Video</h3>
<button class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center gap-2 overflow-hidden rounded-lg h-10 px-5 bg-primary text-white text-sm font-bold leading-normal tracking-[0.015em] hover:bg-primary/90 transition-colors w-full sm:w-auto">
<span class="material-symbols-outlined text-xl">upload_file</span>
<span class="truncate">Tải Lên Video</span>
</button>
</div>
<div class="mt-4 grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3">
<!-- Video 1 -->
<div class="relative group aspect-[16/10] rounded-lg overflow-hidden border border-gray-200 dark:border-gray-700">
<img alt="Video thumbnail" class="w-full h-full object-cover" src="https://images.unsplash.com/photo-1615729947596-a598e5de0ab3?w=400"/>
<div class="absolute inset-0 bg-black/40"></div>
<div class="absolute top-2 left-2 right-2 flex justify-between items-center">
<p class="text-white text-xs font-semibold truncate">San_truong_01.mp4</p>
<div class="size-6 bg-green-500/80 rounded-full flex items-center justify-center">
<span class="material-symbols-outlined text-white text-sm">done</span>
</div>
</div>
<div class="absolute bottom-2 left-2 right-2 text-white text-xs">
<p>1.2 GB / 15:30</p>
<div class="w-full bg-gray-500/50 rounded-full h-1 mt-1">
<div class="bg-green-500 h-1 rounded-full" style="width: 100%;"></div>
</div>
</div>
</div>
<!-- Video 2 -->
<div class="relative group aspect-[16/10] rounded-lg overflow-hidden border border-gray-200 dark:border-gray-700">
<img alt="Video thumbnail" class="w-full h-full object-cover" src="https://images.unsplash.com/photo-1519389950473-47ba0277781c?w=400"/>
<div class="absolute inset-0 bg-black/40"></div>
<div class="absolute top-2 left-2 right-2 flex justify-between items-center">
<p class="text-white text-xs font-semibold truncate">Hanh_lang_lop.mp4</p>
<button class="size-6 bg-gray-500/80 rounded-full flex items-center justify-center hover:bg-danger/80 transition-colors">
<span class="material-symbols-outlined text-white text-sm">close</span>
</button>
</div>
<div class="absolute bottom-2 left-2 right-2 text-white text-xs">
<p>780 MB / 08:12</p>
<div class="w-full bg-gray-500/50 rounded-full h-1 mt-1">
<div class="bg-primary h-1 rounded-full" style="width: 65%;"></div>
</div>
</div>
</div>
<!-- Add More -->
<div class="flex items-center justify-center aspect-[16/10] border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg text-gray-500 dark:text-text-muted hover:border-primary dark:hover:text-primary transition-colors cursor-pointer">
<div class="text-center">
<span class="material-symbols-outlined text-4xl">add_photo_alternate</span>
<p class="text-sm font-medium mt-1">Thêm video</p>
</div>
</div>
</div>
<!-- Local Camera Feed -->
<div class="mt-6 p-4 rounded-lg bg-gray-50 dark:bg-gray-900/40 border border-gray-200 dark:border-gray-700/60 flex items-center justify-between gap-4">
<div class="flex items-start gap-3">
<span class="material-symbols-outlined text-primary text-3xl mt-1">videocam</span>
<div>
<h4 class="font-bold text-gray-800 dark:text-text-light">Nguồn Camera Địa Phương</h4>
<p class="text-sm text-gray-600 dark:text-text-muted">Sử dụng camera của thiết bị để phân tích trực tiếp.</p>
</div>
</div>
<div class="flex items-center gap-3">
<div class="flex items-center gap-2 text-green-600 dark:text-green-400">
<span class="material-symbols-outlined text-base">privacy_tip</span>
<span class="text-xs font-semibold">Hoạt động & An toàn</span>
</div>
<button class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center gap-2 overflow-hidden rounded-lg h-9 px-4 bg-primary text-white text-sm font-bold leading-normal tracking-[0.015em] hover:bg-primary/90 transition-colors">
<span class="material-symbols-outlined text-lg">flip_camera_android</span>
<span>Kích Hoạt Camera</span>
</button>
</div>
</div>
</div>
</div>

<!-- Analysis Results Sidebar -->
<aside class="flex flex-col lg:w-1/3 min-w-[320px]">
<div class="bg-background-light dark:bg-surface-dark p-6 rounded-xl shadow-sm flex-1 flex flex-col">
<div class="flex justify-between items-center mb-4">
<h3 class="text-gray-900 dark:text-text-light text-lg font-bold">Kết Quả Phân Tích</h3>
<div class="flex items-center gap-1">
<button class="flex items-center justify-center size-8 rounded-md text-gray-500 dark:text-text-muted hover:bg-gray-200 dark:hover:bg-gray-700/50 transition-colors">
<span class="material-symbols-outlined text-xl">filter_list</span>
</button>
<button class="flex items-center justify-center size-8 rounded-md text-gray-500 dark:text-text-muted hover:bg-gray-200 dark:hover:bg-gray-700/50 transition-colors">
<span class="material-symbols-outlined text-xl">more_vert</span>
</button>
</div>
</div>
<div class="flex-1 overflow-y-auto space-y-3 pr-2">
<!-- Critical Alert -->
<div class="p-4 rounded-lg bg-danger/10 dark:bg-danger/20 cursor-pointer border-2 border-danger/80">
<div class="flex justify-between items-start gap-2">
<p class="text-sm font-semibold text-danger">Phát Hiện Hành Vi Bất Thường</p>
<p class="text-xs text-danger/80 dark:text-red-300 whitespace-nowrap font-medium">14:23:45</p>
</div>
<p class="text-sm text-gray-600 dark:text-text-muted mt-1">Đánh nhau được phát hiện tại sân chính. Độ chính xác: 92%</p>
<div class="mt-3 pt-3 border-t border-danger/20 flex flex-col gap-3">
<div class="h-28 bg-gray-200 dark:bg-gray-800 rounded-md flex items-center justify-center">
<img alt="Video frame showing altercation" class="w-full h-full object-cover rounded-md" src="https://images.unsplash.com/photo-1579952363873-27f3bade9f55?w=300"/>
</div>
<div class="flex items-center justify-end gap-3">
<button class="flex items-center gap-1.5 text-xs text-gray-600 dark:text-text-muted hover:text-primary dark:hover:text-primary transition-colors font-medium">
<span class="material-symbols-outlined text-base">fullscreen</span>
Xem Clip
</button>
<button class="flex items-center gap-1.5 text-xs text-gray-600 dark:text-text-muted hover:text-primary dark:hover:text-primary transition-colors font-medium">
<span class="material-symbols-outlined text-base">share</span>
Chia Sẻ
</button>
</div>
</div>
</div>
<!-- Normal Detection -->
<div class="p-3 rounded-lg bg-gray-100 dark:bg-gray-800/50 cursor-pointer border border-transparent hover:border-primary/50">
<div class="flex justify-between items-start gap-2">
<p class="text-sm font-semibold text-gray-800 dark:text-text-light">Phát Hiện Người</p>
<p class="text-xs text-gray-500 dark:text-text-muted whitespace-nowrap">14:22:15</p>
</div>
<p class="text-sm text-gray-600 dark:text-text-muted mt-0.5">Có người đi qua lối vào chính.</p>
</div>
<div class="p-3 rounded-lg bg-gray-100 dark:bg-gray-800/50 cursor-pointer border border-transparent hover:border-primary/50">
<div class="flex justify-between items-start gap-2">
<p class="text-sm font-semibold text-gray-800 dark:text-text-light">Xe Vào</p>
<p class="text-xs text-gray-500 dark:text-text-muted whitespace-nowrap">14:21:58</p>
</div>
<p class="text-sm text-gray-600 dark:text-text-muted mt-0.5">Xe màu xanh vào khu vực.</p>
</div>
<div class="p-3 rounded-lg bg-gray-100 dark:bg-gray-800/50 cursor-pointer border border-transparent hover:border-primary/50">
<div class="flex justify-between items-start gap-2">
<p class="text-sm font-semibold text-gray-800 dark:text-text-light">Phát Hiện Người</p>
<p class="text-xs text-gray-500 dark:text-text-muted whitespace-nowrap">14:19:03</p>
</div>
<p class="text-sm text-gray-600 dark:text-text-muted mt-0.5">Chuyển động gần hàng rào phía tây.</p>
</div>
</div>
</div>
</aside>
</main>
</div>
</div>
</div>
</div>

<script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>
