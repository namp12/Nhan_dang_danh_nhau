<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Configuration - Violence Detection</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <nav class="navbar">
        <div class="container">
            <div class="logo">
                <img src="{{ url_for('static', filename='images/logo.png') }}" alt="Logo">
                <h1>Violence Detection System</h1>
            </div>
            <ul class="nav-menu">
                <li><a href="{{ url_for('index') }}">Dashboard</a></li>
                <li><a href="{{ url_for('camera') }}">Camera</a></li>
                <li><a href="{{ url_for('history') }}">History</a></li>
                <li><a href="{{ url_for('config') }}" class="active">Config</a></li>
            </ul>
        </div>
    </nav>

    <main class="container">
        <section class="config-section">
            <h2>System Configuration</h2>

            <div class="config-grid">
                <div class="config-card">
                    <h3>Detection Settings</h3>
                    <form id="detectionConfigForm">
                        <div class="form-group">
                            <label for="confidenceThreshold">Confidence Threshold</label>
                            <input type="range" id="confidenceThreshold" name="confidence_threshold" 
                                   min="0" max="100" value="50">
                            <span class="range-value">50%</span>
                        </div>
                        <div class="form-group">
                            <label for="frameSkip">Frame Skip</label>
                            <input type="number" id="frameSkip" name="frame_skip" 
                                   min="1" max="30" value="5">
                            <small>Process every Nth frame</small>
                        </div>
                        <div class="form-group checkbox">
                            <input type="checkbox" id="saveFrames" name="save_frames" checked>
                            <label for="saveFrames">Save Detection Frames</label>
                        </div>
                        <button type="submit" class="btn btn-primary">Save Settings</button>
                    </form>
                </div>

                <div class="config-card">
                    <h3>Alert Settings</h3>
                    <form id="alertConfigForm">
                        <div class="form-group">
                            <label for="alertCooldown">Alert Cooldown (minutes)</label>
                            <input type="number" id="alertCooldown" name="alert_cooldown" 
                                   min="1" max="60" value="5">
                        </div>
                        <div class="form-group checkbox">
                            <input type="checkbox" id="emailAlerts" name="email_alerts">
                            <label for="emailAlerts">Email Alerts</label>
                        </div>
                        <div class="form-group">
                            <label for="alertEmail">Alert Email</label>
                            <input type="email" id="alertEmail" name="alert_email" 
                                   placeholder="admin@example.com">
                        </div>
                        <button type="submit" class="btn btn-primary">Save Settings</button>
                    </form>
                </div>

                <div class="config-card">
                    <h3>Storage Settings</h3>
                    <form id="storageConfigForm">
                        <div class="form-group">
                            <label for="videoRetention">Video Retention (days)</label>
                            <input type="number" id="videoRetention" name="video_retention" 
                                   min="1" max="365" value="30">
                        </div>
                        <div class="form-group checkbox">
                            <input type="checkbox" id="autoCleanup" name="auto_cleanup" checked>
                            <label for="autoCleanup">Automatic Cleanup</label>
                        </div>
                        <div class="storage-info">
                            <p><strong>Storage Used:</strong> <span id="storageUsed">0 GB</span></p>
                            <p><strong>Available:</strong> <span id="storageAvailable">100 GB</span></p>
                        </div>
                        <button type="submit" class="btn btn-primary">Save Settings</button>
                    </form>
                </div>

                <div class="config-card">
                    <h3>Model Information</h3>
                    <div class="model-info">
                        <p><strong>Model Type:</strong> CNN-LSTM</p>
                        <p><strong>Version:</strong> 1.0.0</p>
                        <p><strong>Last Updated:</strong> 2024-01-01</p>
                        <p><strong>Accuracy:</strong> 98.5%</p>
                        <button class="btn btn-secondary">Update Model</button>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>
